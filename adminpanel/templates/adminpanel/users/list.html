{% extends "adminpanel/admin_base.html" %}

{% block page_title %}–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'adminpanel/css/users.css' %}">
{% endblock %}

{% block content %}
<div class="users-page">

  <!-- –≤–µ—Ä—Ö–Ω—è—è –ø–æ–ª–æ—Å–∞: –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–ª–µ–≤–∞, –∫—Ä–æ—à–∫–∏ —Å–ø—Ä–∞–≤–∞, –∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω–µ -->
  <div class="users-header-bar">
    <h2 class="users-title">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
    <nav class="users-breadcrumbs">
      <a href="{% url 'adminpanel:dashboard' %}">–ì–ª–∞–≤–Ω–∞—è</a> ‚Üí
      <span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
    </nav>
  </div>

  <!-- –∫–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∞ -->
  <div class="users-toolbar">
    <a class="btn btn-success" href="{% url 'adminpanel:user_add' %}">–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</a>
  </div>

  <!-- —Ç–∞–±–ª–∏—Ü–∞ -->
  <div class="users-table card">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th style="width:52px">#</th>
          <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
          <th style="width:220px">–†–æ–ª—å</th>
          <th style="width:220px">–¢–µ–ª–µ—Ñ–æ–Ω</th>
          <th style="width:260px">Email (–ª–æ–≥–∏–Ω)</th>
          <th style="width:140px">–°—Ç–∞—Ç—É—Å</th>
          <th style="width:140px;text-align:right">–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
        <!-- —Ä—è–¥ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º -->
        <tr class="users-filters">
          <th></th>
          <th><input class="inp" type="text" name="q_name" placeholder=""></th>
          <th>
            <div class="select-wrap">
              <select class="inp">
                <option value="">‚Äî</option>
                {% for r in roles %}<option value="{{ r.id }}">{{ r.name }}</option>{% endfor %}
              </select>
              <span class="chev">‚ñæ</span>
            </div>
          </th>
          <th><input class="inp" type="text" name="q_phone" placeholder=""></th>
          <th><input class="inp" type="text" name="q_email" placeholder=""></th>
          <th>
            <div class="select-wrap">
              <select class="inp">
                <option value="">‚Äî</option>
                <option value="active">–ê–∫—Ç–∏–≤–µ–Ω</option>
                <option value="disabled">–û—Ç–∫–ª—é—á–µ–Ω</option>
              </select>
              <span class="chev">‚ñæ</span>
            </div>
          </th>
          <th class="users-filters__right">
            <button class="btn btn-light users-clear">–û—á–∏—Å—Ç–∏—Ç—å</button>
          </th>
        </tr>
      </thead>

      <tbody>
        {% for u in users %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>
            <a class="users-name" href="{% url 'adminpanel:user_detail' u.pk %}">
              {{ u.get_full_name|default:u.username }}
            </a>
          </td>
          <td>{{ u.role|default:"‚Äî" }}</td>
          <td>{{ u.phone|default:"‚Äî" }}</td>
          <td>{{ u.email|default:"‚Äî" }}</td>
          <td>
            {% if u.is_active %}
              <span class="badge users-badge users-badge--green">–ê–∫—Ç–∏–≤–µ–Ω</span>
            {% else %}
              <span class="badge users-badge users-badge--red">–û—Ç–∫–ª—é—á–µ–Ω</span>
            {% endif %}
          </td>
          <td class="users-actions">
            <!-- –∏–∫–æ–Ω–∫–∏-–¥–µ–π—Å—Ç–≤–∏—è: –æ–±–Ω–æ–≤–∏—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/–ø—Ä–æ—Å–º–æ—Ç—Ä/—É–¥–∞–ª–∏—Ç—å ‚Äî –∑–∞–≥–ª—É—à–∫–∏ -->
            <a class="act" title="–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è" href="#"><span>‚Üª</span></a>
            <a class="act" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" href="#"><span>‚úé</span></a>
            <a class="act" title="–ü—Ä–æ—Å–º–æ—Ç—Ä" href="{% url 'adminpanel:user_detail' u.pk %}"><span>üëÅ</span></a>
            <a class="act danger" title="–£–¥–∞–ª–∏—Ç—å" href="#"><span>üóë</span></a>
          </td>
        </tr>
        {% empty %}
        <tr><td colspan="7" class="text-center text-muted">–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

</div>
{% endblock %}